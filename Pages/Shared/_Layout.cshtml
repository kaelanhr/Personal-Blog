<!DOCTYPE html>
<html lang="en">

@{
	var pageUrl = Context.Request.Path;
}

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>@ViewData["Title"] | Kaelan Reece</title>
	<link rel="stylesheet" href="~/css/site.css" />
	<meta name="description" content="@ViewBag.Description" />
	<meta name="title" content="@ViewBag.Title" />
	<meta name="keywords" content="@ViewBag.Keywords" />
</head>

<script>
	function setTheme() {
		var selectedTheme = document.getElementById("theme").value;
		window.localStorage.setItem("theme", selectedTheme)
		var a = document.body;
		a.className = selectedTheme
	}
	@* selection box picks the selected theme *@
	function selectElement(id, valueToSelect) {
		let element = document.getElementById(id);
		element.value = valueToSelect;
	}

	window.addEventListener('DOMContentLoaded', (event) => {
		var theme = window.localStorage.getItem("theme");

		if (theme) {
			document.body.className = theme;
			selectElement("theme", theme);
		} else {
			selectElement("theme", theme ? theme : "light");
			setTheme();
		}
	});
</script>

<body>
	<header>
		<div class="nav-wrapper">
			<section>
				<section id="header-image">
					<a class="nav-link @(pageUrl == "/" ? "active" : "")" asp-area="" asp-page="/Index">
						<img src="/Images/WolfLogo.png" id="header-icon" />
					</a>
				</section>
				<section id="header-name">
					<span></span>
				</section>
			</section>
			<nav class="navbar">
				<ul class="navbar-nav">
					<li class="nav-item">
						<a class="nav-link @(pageUrl == "/" ? "active" : "")" asp-area="" asp-page="/Index">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link @(pageUrl == "/About" ? "active" : "")" asp-area="" asp-page="/About">About</a>
					</li>
					<li class="nav-item">
						<a class="nav-link @(pageUrl.Value.Contains("/blog") ? "active" : "")" asp-area="" asp-page="/blog">Blog</a>
					</li>
				</ul>
			</nav>
		</div>
	</header>
	@RenderSection("Header")
	<select name="theme" id="theme" onchange="setTheme()">
		<option value="light">Light</option>
		<option value="dark">Dark</option>
	</select>
	<main role="main">
		@RenderBody()
	</main>

	<footer>
		<div class="container">
			<section class="social-links">
				<a href="https://www.linkedin.com/in/kaelan-reece/" class="linkedin" target="__blank"></a>
				<a href="https://github.com/KaeIan/" class="github" target="__blank"></a>
				<a href="mailTo:kaelanreece@gmail.com" class="mail" target="__blank"></a>
			</section>
			<section>
				&copy; Copyright Kaelan Reece 2021
			</section>
		</div>
	</footer>

	@await RenderSectionAsync("Scripts", required: false)
</body>

</html>
